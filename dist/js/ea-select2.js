jQuery((function(e){e.fn.eaccounting_select2=function(t){return this.each((function(){new e.eaccounting_select2(this,e.extend({},e(this).data(),t))}))},e.eaccounting_select2=function(t,n){this.el=t,this.$el=e(t),this.options=n,this.id=this.$el.attr("id");const s=this;return n.ajax_action&&(n.ajax={cache:!0,delay:500,url:n.url,method:"POST",dataType:"json",data:e=>({action:s.options.ajax_action,nonce:s.options.nonce,search:e.term,page:e.page}),processResults(e,t){t.page=t.page||1;const n=s.options.map||"return {text: option.name, id:option.id}",o=new Function("option",n);return{results:e.data.map((function(e){return o(e)})),pagination:!1}}}),this.$el.select2(n),this.options.modal_id&&this.$el.on("select2:open",(function(t){const n=e(this).data("select2").$results;if(!n.siblings(".ea-select2-footer").length){const t=e('<a href="#" class="ea-select2-footer"><span class="dashicons dashicons-plus">&nbsp;</span>'+s.options.add_text+"</a>").on("click",(function(t){t.preventDefault(),s.$el.select2("close"),e(s.options.modal_id).ea_modal()}));n.closest(".select2-results").append(t)}})),this.$el},e(document.body).on("ea_select2_init",(function(){e(".ea-select2").filter(":not(.select2-hidden-accessible)").each((function(){e(this).eaccounting_select2()}))})),e(".ea-select2").eaccounting_select2()}));